version = 3
final_space = true
console_title_template = '{{ .Shell }} in {{ .Folder }}'

[[blocks]]
	type = 'prompt'
	alignment = 'left'
	newline = true

	[[blocks.segments]]
		type = "session"
		style = "diamond"
		foreground = "#ffffff"
		background = "#c386f1"
		leading_diamond = "ÓÇ∂"
		trailing_diamond = "ÓÇ∞"
		template = "{{ if .SSHSession }}ÓÆ© {{ end }}{{ .UserName }}"

	[[blocks.segments]]
		type = 'path'
		style = 'powerline'
		powerline_symbol = "ÓÇ∞"
		background = '#ffffff'
		template = '{{ .Path }}'

		[blocks.segments.properties]
				style = 'full'

	[[blocks.segments]]
		type = "connection"
		style = "powerline"
		background = "#8822ee"
		foreground = "#222222"
		powerline_symbol = "ÓÇ∞"
	
	[[blocks.segments]]
		type = "sysinfo"
		powerline_symbol = "ÓÇ∞"
		foreground = "#ffffff"
		background = "#8f43f3"
		template = " Óâ¶ {{ round .PhysicalPercentUsed .Precision }}% "
		style = "powerline"

		[blocks.segments.properties]
		precision = 2

	[[blocks.segments]]
		type = "git"
		style = "powerline"
		powerline_symbol = "ÓÇ∞"
		foreground = "#193549"
		background = "#ffeb3b"
		background_templates = [
			"{{ if or (.Working.Changed) (.Staging.Changed) }}#FFEB3B{{ end }}",
			"{{ if and (gt .Ahead 0) (gt .Behind 0) }}#FFCC80{{ end }}",
			"{{ if gt .Ahead 0 }}#B388FF{{ end }}",
			"{{ if gt .Behind 0 }}#B388FB{{ end }}"
		]
		template = "{{ .UpstreamIcon }}{{ .HEAD }}{{if .BranchStatus }} {{ .BranchStatus }}{{ end }}{{ if .Working.Changed }} ÔÅÑ {{ .Working.String }}{{ end }}{{ if and (.Working.Changed) (.Staging.Changed) }} |{{ end }}{{ if .Staging.Changed }} ÔÅÜ {{ .Staging.String }}{{ end }}{{ if gt .StashCount 0 }} ÔÉá {{ .StashCount }}{{ end }}"

		[blocks.segments.properties]
		fetch_status = true
		fetch_upstream_icon = true
		source = "cli"

			[blocks.segments.properties.untracked_modes]
			"/Users/user/Projects/oh-my-posh/" = "no"

			[blocks.segments.properties.mapped_branches]
			"feature/*" = "üöÄ "
			"bugfix/*" = "üêõ "

	[[blocks.segments]]
		type = "kubectl"
		style = "powerline"
		powerline_symbol = "ÓÇ∞"
		foreground = "#000000"
		background = "#ebcc34"
		template = " Ô¥± {{.Context}}{{if .Namespace}} :: {{.Namespace}}{{end}} "

	[[blocks.segments]]
		background = "#a7cae1"
		foreground = "#100e23"
		powerline_symbol = "ÓÇ∞"
		template = " Helm {{ .Version }}"
		style = "powerline"
		type = "helm"

	[[blocks.segments]]
		type = "lua"
		style = "powerline"
		powerline_symbol = "ÓÇ∞"
		foreground = "white"
		background = "blue"
		template = " Óò† {{ .Full }} "

	[[blocks.segments]]
		type = "go"
		style = "powerline"
		powerline_symbol = "ÓÇ∞"
		foreground = "#ffffff"
		background = "#7FD5EA"
		template = " Ô≥ë {{ .Full }} "

	[[blocks.segments]]
		type = "python"
		style = "powerline"
		powerline_symbol = "ÓÇ∞"
		foreground = "#100e23"
		background = "#906cff"
		template = " Óàµ {{ .Full }} "

	[[blocks.segments]]
		type = "rust"
		style = "powerline"
		powerline_symbol = "ÓÇ∞"
		foreground = "#193549"
		background = "#99908a"
		template = " Óû® {{ .Full }} "

	[[blocks.segments]]
		type = "root"
		style = "powerline"
		powerline_symbol = "ÓÇ∞"
		foreground = "#111111"
		background = "#ffff66"
		template = "ÔÉß"

[[blocks]]
  type = 'rprompt'
  overflow = 'hidden'

  [[blocks.segments]]
    type = 'executiontime'
    style = 'plain'
    foreground = 'green'
    background = 'transparent'
    template = '{{ .FormattedMs }}'

    [blocks.segments.properties]
      threshold = 5000

[[blocks]]
    type = 'prompt'
    alignment = 'left'
    newline = true

    [[blocks.segments]]
      type = 'text'
      style = 'plain'
      foreground_templates = [
        "{{if gt .Code 0}}red{{end}}",
        "{{if eq .Code 0}}green{{end}}",
      ]
      background = 'transparent'
      template = '‚ùØ'

[transient_prompt]
  foreground_templates = [
    "{{if gt .Code 0}}red{{end}}",
    "{{if eq .Code 0}}green{{end}}",
  ]
  background = "transparent"
  template = '‚ùØ '

[secondary_prompt]
  foreground = 'magenta'
  background = 'transparent'
  template = '‚ùØ‚ùØ '
